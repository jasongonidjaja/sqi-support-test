{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  try {\n    const response = await axios.post(\"http://localhost:4000/api/auth/login\", form);\n\n    // Simpan token JWT di localStorage\n    localStorage.setItem(\"token\", response.data.token);\n\n    // Dapatkan informasi role dari token (decoded)\n    const decoded = JSON.parse(atob(response.data.token.split('.')[1]));\n\n    // Redirect ke halaman sesuai role\n    if (decoded.role === \"sqi\") {\n      navigate(\"/tasks\"); // Redirect ke halaman Task List untuk SQI\n    } else if (decoded.role === \"developer\") {\n      navigate(\"/create\"); // Redirect ke halaman Create Task untuk Developer\n    }\n  } catch (err) {\n    setError(\"Username atau Password salah\");\n    console.error(\"Login error\", err);\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","response","axios","post","form","localStorage","setItem","data","token","decoded","JSON","parse","atob","split","role","navigate","err","setError","console","error"],"sources":["C:/Users/jason/Desktop/Projects/project-bca/frontend/src/pages/LoginPage.js"],"sourcesContent":["const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n\r\n  try {\r\n    const response = await axios.post(\"http://localhost:4000/api/auth/login\", form);\r\n    \r\n    // Simpan token JWT di localStorage\r\n    localStorage.setItem(\"token\", response.data.token);\r\n\r\n    // Dapatkan informasi role dari token (decoded)\r\n    const decoded = JSON.parse(atob(response.data.token.split('.')[1]));\r\n\r\n    // Redirect ke halaman sesuai role\r\n    if (decoded.role === \"sqi\") {\r\n      navigate(\"/tasks\"); // Redirect ke halaman Task List untuk SQI\r\n    } else if (decoded.role === \"developer\") {\r\n      navigate(\"/create\"); // Redirect ke halaman Create Task untuk Developer\r\n    }\r\n  } catch (err) {\r\n    setError(\"Username atau Password salah\");\r\n    console.error(\"Login error\", err);\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAElB,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACC,IAAI,CAAC,sCAAsC,EAAEC,IAAI,CAAC;;IAE/E;IACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACM,IAAI,CAACC,KAAK,CAAC;;IAElD;IACA,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACX,QAAQ,CAACM,IAAI,CAACC,KAAK,CAACK,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEnE;IACA,IAAIJ,OAAO,CAACK,IAAI,KAAK,KAAK,EAAE;MAC1BC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;IACtB,CAAC,MAAM,IAAIN,OAAO,CAACK,IAAI,KAAK,WAAW,EAAE;MACvCC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;IACvB;EACF,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,QAAQ,CAAC,8BAA8B,CAAC;IACxCC,OAAO,CAACC,KAAK,CAAC,aAAa,EAAEH,GAAG,CAAC;EACnC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}